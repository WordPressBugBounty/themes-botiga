((a,i,t)=>{function n(t){var o=s(t);return!o||!h(o)||0===m(t).length?null:(v(o),o=a('<div id="'.concat(f(o),'">\n\t\t\t\t<p class="woocommerce-error" role="alert" tabindex="-1">\n\t\t\t\t\t').concat(b(t),"\n\t\t\t\t</p>\n\t\t\t</div>")),t.after(o),o)}function o(t){var o,e=s(t);e&&(c.set(e,!0),o=n(t),(e=t.get(0))&&e.getBoundingClientRect&&(e=e.getBoundingClientRect(),t=u(),e=Math.max(0,(i.scrollY||i.pageYOffset)+e.top-t),i.scrollTo({top:e,behavior:"smooth"})),o)&&i.setTimeout(function(){o.find("p.woocommerce-error").trigger("focus")},250)}function e(){i.__botigaVariationSelectionCaptureAttached||(i.__botigaVariationSelectionCaptureAttached=!0,t.addEventListener("click",function(t){var o=t.target.closest("form.variations_form .single_add_to_cart_button, form.variations_form .botiga-buy-now-button");o&&(o=o.closest("form.variations_form"))&&Array.from(o.querySelectorAll(".variations select")).some(function(t){return!t.value})&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),o.dispatchEvent(new CustomEvent("botiga:variation-selection-needed",{bubbles:!0})))},!0))}var r="botiga-variation-selection-notice-",c=new Map,s=function(t){return parseInt(t.data("product_id"),10)||0},f=function(t){return"".concat(r).concat(t)},u=function(){var t="undefined"!=typeof botigaVariationNotice&&botigaVariationNotice.scrollOffset?parseInt(botigaVariationNotice.scrollOffset,10):0;return Number.isFinite(t)?t:0},l=function(){return"undefined"!=typeof botigaVariationNotice&&"string"==typeof botigaVariationNotice.listSeparator?botigaVariationNotice.listSeparator:", "},g=function(t){var o=l(),e="undefined"!=typeof botigaVariationNotice&&"string"==typeof botigaVariationNotice.listConjunction?botigaVariationNotice.listConjunction:" and ";return t.length<=1?t.join(""):2===t.length?"".concat(t[0]).concat(e).concat(t[1]):"".concat(t.slice(0,-1).join(o)).concat(e).concat(t[t.length-1])},d=function(){return"undefined"!=typeof botigaVariationNotice&&"string"==typeof botigaVariationNotice.missingMessage?botigaVariationNotice.missingMessage:"Please select: %s."},p=function(){return"undefined"!=typeof wc_add_to_cart_variation_params&&"string"==typeof wc_add_to_cart_variation_params.i18n_make_a_selection_text?wc_add_to_cart_variation_params.i18n_make_a_selection_text:"undefined"!=typeof botigaVariationNotice&&"string"==typeof botigaVariationNotice.fallbackMessage?botigaVariationNotice.fallbackMessage:"Please select all required options before adding this product to your cart."},_=function(t,o){return t.replace(/%s/g,o)},m=function(i){var n=[];return i.find(".variations select").each(function(){var t,o,e=a(this);!e.val()&&(o="",o=(o=(t=e.attr("id"))?i.find('label[for="'.concat(t,'"]')).first().text().trim():o)||(e.data("attribute_name")||e.attr("name")||"").toString().replace(/^attribute_/,"").replace(/^pa_/,"").replace(/[-_]+/g," ").trim().replace(/\b\w/g,function(t){return t.toUpperCase()}))&&n.push(o)}),Array.from(new Set(n))},b=function(t){var t=m(t);return t.length?(t=g(t),_(d(),t)):p()},v=function(t){t&&a("#".concat(f(t))).remove()},h=function(t){return t&&!0===c.get(t)};a(t).on("botiga:variation-selection-needed","form.variations_form",function(){o(a(this))}).on("change","form.variations_form .variations select",function(){var t,o=a(this).closest("form.variations_form");0===m(o).length?(t=s(t=o))&&(c.set(t,!1),v(t)):h(s(o))&&n(o)}),a(function(){e()})})(jQuery,window,document);